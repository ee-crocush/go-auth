# Cyberball Auth Service

**Cyberball Auth** — это сервис аутентификации для проекта Cyberball. Он предоставляет механизмы регистрации, входа,
обновления токенов и выхода для пользователей.

Описание еще в разработке

## Технологии

- **Go** — основной язык разработки.
- **Gin** — фреймворк для создания веб-сервера.
- **PostgreSQL** — реляционная база данных для хранения пользовательских данных и информации о сессиях.
- **JWT (JSON Web Tokens)** — для безопасной аутентификации пользователей и передачи информации между клиентом и
  сервером.
- **Clean Architecture** — архитектурный стиль, который разделяет бизнес-логику и инфраструктурные зависимости, улучшая
  тестируемость и поддерживаемость кода.

## Структура проекта

Проект реализует чистую архитектуру с разделением на слои и использует следующие технологии:

- **Go** — для логики сервиса.
- **Gin** — для маршрутизации и обработки HTTP-запросов.
- **PostgreSQL** — для хранения данных.
- **JWT** — для аутентификации пользователей с помощью токенов.

## Установка

### 1. Клонирование репозитория

Для начала, клонируйте репозиторий:

```bash
git clone git@gitlab.dev-api.tech:cyberball/auth.git
```

### 2. Установка зависимостей

Перейдите в папку проекта и установите все зависимости:

```bash
go mod tidy
```

### 3. Настройка конфигурации

Создайте файл конфигурации - пока в разработке, использовать .env?

### 4. Запуск проекта

Чтобы запустить сервис, выполните команду:

```bash
go run cmd/main.go
```

По умолчанию сервер будет запущен на порту 8080.

## Технология JWT (JSON Web Tokens)

Для аутентификации и авторизации в сервисе используется JWT. JWT позволяет безопасно передавать информацию между
клиентом и сервером в виде токенов.
- Access Token — короткоживущий токен, используемый для подтверждения аутентификации пользователя.
- Refresh Token — долгоживущий токен, используемый для получения нового access token, когда старый истекает.

### Пример работы с токенами
1. Пользователь регистрируется или входит в систему. 
2. Сервер генерирует два токена:
- access_token (для доступа к защищённым маршрутам).
- refresh_token (для обновления access token).
3. Токены передаются клиенту, который использует их для аутентификации при последующих запросах.

## Тестирование
Для запуска тестов используйте команду:

```bash
go test ./...
```
